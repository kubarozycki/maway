{"ast":null,"code":"import _classCallCheck from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import{fetchItems,changeSelection}from\"../actions\";import Card from\"../../../../controls/card\";import{showLoader,hideLoader}from\"../../../loader/actions\";import{setCurrentStepInvalid,setCurrentStepValid,changeStep}from\"../../../reservation-main/actions\";var ItemSelectStepComponent=/*#__PURE__*/function(_React$Component){_inherits(ItemSelectStepComponent,_React$Component);function ItemSelectStepComponent(props){_classCallCheck(this,ItemSelectStepComponent);return _possibleConstructorReturn(this,_getPrototypeOf(ItemSelectStepComponent).call(this,props));}_createClass(ItemSelectStepComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.goingForward&&this.props.onReloadItems(this.props.dateFrom,this.props.dateTo);}},{key:\"render\",value:function render(){var _this=this;if(!this.props.selectedItemId)this.props.onStepInvalid();else this.props.onStepValid();return React.createElement(\"div\",{className:\"item-select-container\"},this.props.items&&this.props.items.map(function(x){return React.createElement(Card,{key:x.id,title:x.title,image:x.image,selected:_this.props.selectedItemId===x.id,attributes:x.itemAttributes,onClick:function onClick(){return _this.props.onChangeSelection(x.id);},dailyPrice:x.dailyPrice});}));}}]);return ItemSelectStepComponent;}(React.Component);var mapStateToProps=function mapStateToProps(_ref){var dateStepReducer=_ref.dateStepReducer,itemStepReducer=_ref.itemStepReducer,reservationApp=_ref.reservationApp;return{items:itemStepReducer.items,dateFrom:dateStepReducer.dateFrom,dateTo:dateStepReducer.dateTo,selectedItemId:itemStepReducer.selectedItemId,goingForward:reservationApp.goingForward};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onReloadItems:function onReloadItems(dateFrom,dateTo){dispatch(showLoader());dispatch(fetchItems(dateFrom,dateTo)).then(function(){return dispatch(hideLoader());});},onChangeSelection:function onChangeSelection(selectedItemId){return dispatch(changeSelection(selectedItemId));},onStepInvalid:function onStepInvalid(){return dispatch(setCurrentStepInvalid());},onStepValid:function onStepValid(){return dispatch(setCurrentStepValid());}};};export default connect(mapStateToProps,mapDispatchToProps)(ItemSelectStepComponent);","map":{"version":3,"sources":["/Users/rozyckj/repos/mawayRental/MawayFrontend/src/modules/reservation-steps/item-selection-step/components/index.js"],"names":["React","connect","fetchItems","changeSelection","Card","showLoader","hideLoader","setCurrentStepInvalid","setCurrentStepValid","changeStep","ItemSelectStepComponent","props","goingForward","onReloadItems","dateFrom","dateTo","selectedItemId","onStepInvalid","onStepValid","items","map","x","id","title","image","itemAttributes","onChangeSelection","dailyPrice","Component","mapStateToProps","dateStepReducer","itemStepReducer","reservationApp","mapDispatchToProps","dispatch","then"],"mappings":"mpBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,eAArB,KAA4C,YAA5C,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,yBAAvC,CACA,OACEC,qBADF,CAEEC,mBAFF,CAGEC,UAHF,KAIO,mCAJP,C,GAMMC,CAAAA,uB,6FACJ,iCAAYC,KAAZ,CAAmB,yIACXA,KADW,GAElB,C,iGAEmB,CAClB,KAAKA,KAAL,CAAWC,YAAX,EAA2B,KAAKD,KAAL,CAAWE,aAAX,CAAyB,KAAKF,KAAL,CAAWG,QAApC,CAA8C,KAAKH,KAAL,CAAWI,MAAzD,CAA3B,CACD,C,uCAEQ,gBACP,GAAI,CAAC,KAAKJ,KAAL,CAAWK,cAAhB,CAAgC,KAAKL,KAAL,CAAWM,aAAX,GAAhC,IACK,MAAKN,KAAL,CAAWO,WAAX,GACL,MACE,4BAAK,SAAS,CAAC,uBAAf,EACG,KAAKP,KAAL,CAAWQ,KAAX,EACC,KAAKR,KAAL,CAAWQ,KAAX,CAAiBC,GAAjB,CAAqB,SAAAC,CAAC,CAAI,CACxB,MACE,qBAAC,IAAD,EACE,GAAG,CAAEA,CAAC,CAACC,EADT,CAEE,KAAK,CAAED,CAAC,CAACE,KAFX,CAGE,KAAK,CAAEF,CAAC,CAACG,KAHX,CAIE,QAAQ,CAAE,KAAI,CAACb,KAAL,CAAWK,cAAX,GAA8BK,CAAC,CAACC,EAJ5C,CAKE,UAAU,CAAED,CAAC,CAACI,cALhB,CAME,OAAO,CAAE,yBAAM,CAAA,KAAI,CAACd,KAAL,CAAWe,iBAAX,CAA6BL,CAAC,CAACC,EAA/B,CAAN,EANX,CAOE,UAAU,CAAED,CAAC,CAACM,UAPhB,EADF,CAWD,CAZD,CAFJ,CADF,CAkBD,C,qCA9BmC3B,KAAK,CAAC4B,S,EAiC5C,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,UAAGC,CAAAA,eAAH,MAAGA,eAAH,CAAoBC,eAApB,MAAoBA,eAApB,CAAqCC,cAArC,MAAqCA,cAArC,OAA2D,CACjFb,KAAK,CAAEY,eAAe,CAACZ,KAD0D,CAEjFL,QAAQ,CAAEgB,eAAe,CAAChB,QAFuD,CAGjFC,MAAM,CAAEe,eAAe,CAACf,MAHyD,CAIjFC,cAAc,CAAEe,eAAe,CAACf,cAJiD,CAKjFJ,YAAY,CAAEoB,cAAc,CAACpB,YALoD,CAA3D,EAAxB,CAQA,GAAMqB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCrB,aAAa,CAAE,uBAACC,QAAD,CAAWC,MAAX,CAAsB,CACnCmB,QAAQ,CAAC7B,UAAU,EAAX,CAAR,CACA6B,QAAQ,CAAChC,UAAU,CAACY,QAAD,CAAWC,MAAX,CAAX,CAAR,CAAuCoB,IAAvC,CAA4C,iBAAMD,CAAAA,QAAQ,CAAC5B,UAAU,EAAX,CAAd,EAA5C,EACD,CAJqC,CAKtCoB,iBAAiB,CAAE,2BAAAV,cAAc,QAAIkB,CAAAA,QAAQ,CAAC/B,eAAe,CAACa,cAAD,CAAhB,CAAZ,EALK,CAMtCC,aAAa,CAAE,+BAAMiB,CAAAA,QAAQ,CAAC3B,qBAAqB,EAAtB,CAAd,EANuB,CAOtCW,WAAW,CAAE,6BAAMgB,CAAAA,QAAQ,CAAC1B,mBAAmB,EAApB,CAAd,EAPyB,CAAL,EAAnC,CAUA,cAAeP,CAAAA,OAAO,CACpB4B,eADoB,CAEpBI,kBAFoB,CAAP,CAGbvB,uBAHa,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchItems, changeSelection } from \"../actions\";\nimport Card from \"../../../../controls/card\";\nimport { showLoader, hideLoader } from \"../../../loader/actions\";\nimport {\n  setCurrentStepInvalid,\n  setCurrentStepValid,\n  changeStep\n} from \"../../../reservation-main/actions\";\n\nclass ItemSelectStepComponent extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.props.goingForward && this.props.onReloadItems(this.props.dateFrom, this.props.dateTo);\n  }\n\n  render() {\n    if (!this.props.selectedItemId) this.props.onStepInvalid();\n    else this.props.onStepValid();\n    return (\n      <div className=\"item-select-container\">\n        {this.props.items &&\n          this.props.items.map(x => {\n            return (\n              <Card\n                key={x.id}\n                title={x.title}\n                image={x.image}\n                selected={this.props.selectedItemId === x.id}\n                attributes={x.itemAttributes}\n                onClick={() => this.props.onChangeSelection(x.id)}\n                dailyPrice={x.dailyPrice}\n              />\n            );\n          })}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ dateStepReducer, itemStepReducer, reservationApp }) => ({\n  items: itemStepReducer.items,\n  dateFrom: dateStepReducer.dateFrom,\n  dateTo: dateStepReducer.dateTo,\n  selectedItemId: itemStepReducer.selectedItemId,\n  goingForward: reservationApp.goingForward\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onReloadItems: (dateFrom, dateTo) => {\n    dispatch(showLoader());\n    dispatch(fetchItems(dateFrom, dateTo)).then(() => dispatch(hideLoader()));\n  },\n  onChangeSelection: selectedItemId => dispatch(changeSelection(selectedItemId)),\n  onStepInvalid: () => dispatch(setCurrentStepInvalid()),\n  onStepValid: () => dispatch(setCurrentStepValid())\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ItemSelectStepComponent);\n"]},"metadata":{},"sourceType":"module"}