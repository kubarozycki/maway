{"ast":null,"code":"import _objectSpread from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";var _formValidators,_formValues,_formValidation;import{EMAIL_FIELD,NAME_FIELD,PHONE_FIELD,SURNAME_FIELD,VALUE_CHANGED,FORM_CONFIRMED}from'./actions';var requiredValidator=function requiredValidator(value){return!!value;};var maxLengthValidator=function maxLengthValidator(value,maxLength){return!!value&&value.length<maxLength;};var minLengthValidator=function minLengthValidator(value,minLength){return!!value&&value.length>=minLength;};var formValidators=(_formValidators={},_defineProperty(_formValidators,NAME_FIELD,[{validatorFn:requiredValidator,errorMsg:'Name is required'},{validatorFn:function validatorFn(value){return minLengthValidator(value,2);},errorMsg:'Name should be minimum 2 characters long'}]),_defineProperty(_formValidators,SURNAME_FIELD,[{validatorFn:requiredValidator,errorMsg:'Surname is required'},{validatorFn:function validatorFn(value){return minLengthValidator(value,2);},errorMsg:'Surname should be minimum 2 characters long'}]),_defineProperty(_formValidators,EMAIL_FIELD,[{validatorFn:requiredValidator,errorMsg:'Email is required'}]),_defineProperty(_formValidators,PHONE_FIELD,[{validatorFn:requiredValidator,errorMsg:'Phone number is required'}]),_formValidators);var initialState={formValues:(_formValues={},_defineProperty(_formValues,NAME_FIELD,''),_defineProperty(_formValues,SURNAME_FIELD,''),_defineProperty(_formValues,EMAIL_FIELD,''),_defineProperty(_formValues,PHONE_FIELD,''),_formValues),formValidation:(_formValidation={},_defineProperty(_formValidation,NAME_FIELD,{isValid:false,errorMsg:''}),_defineProperty(_formValidation,SURNAME_FIELD,{isValid:false,errorMsg:''}),_defineProperty(_formValidation,EMAIL_FIELD,{isValid:false,errorMsg:''}),_defineProperty(_formValidation,PHONE_FIELD,{isValid:false,errorMsg:''}),_formValidation)};export default function confirmationStepReducer(){var _formValidatonResults;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case FORM_CONFIRMED:var formValidatonResults=(_formValidatonResults={},_defineProperty(_formValidatonResults,NAME_FIELD,{isValid:true,errorMsg:''}),_defineProperty(_formValidatonResults,SURNAME_FIELD,{isValid:true,errorMsg:''}),_defineProperty(_formValidatonResults,EMAIL_FIELD,{isValid:true,errorMsg:''}),_defineProperty(_formValidatonResults,PHONE_FIELD,{isValid:true,errorMsg:''}),_formValidatonResults);for(var formFieldKey in state.formValidation){var fieldValidators=formValidators[formFieldKey];var fieldProposedValue=state.formValues[formFieldKey];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=fieldValidators[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var validator=_step.value;var isValid=validator.validatorFn(fieldProposedValue);if(!isValid){formValidatonResults[formFieldKey]={isValid:isValid,errorMsg:validator.errorMsg};break;}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}return _objectSpread({},state,{formValidation:formValidatonResults});case VALUE_CHANGED:return _objectSpread({},state,{formValues:_objectSpread({},state.formValues,_defineProperty({},action.field,action.value))});default:return state;}}","map":{"version":3,"sources":["/Users/rozyckj/repos/mawayRental/MawayFrontend/src/modules/reservation-steps/confirmation-step/reducers.js"],"names":["EMAIL_FIELD","NAME_FIELD","PHONE_FIELD","SURNAME_FIELD","VALUE_CHANGED","FORM_CONFIRMED","requiredValidator","value","maxLengthValidator","maxLength","length","minLengthValidator","minLength","formValidators","validatorFn","errorMsg","initialState","formValues","formValidation","isValid","confirmationStepReducer","state","action","type","formValidatonResults","formFieldKey","fieldValidators","fieldProposedValue","validator","field"],"mappings":"mTAAA,OAAQA,WAAR,CAAqBC,UAArB,CAAiCC,WAAjC,CAA8CC,aAA9C,CAA6DC,aAA7D,CAA4EC,cAA5E,KAAiG,WAAjG,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,QAAW,CAAC,CAACA,KAAb,EAA1B,CACA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACD,KAAD,CAAQE,SAAR,QAAsB,CAAC,CAACF,KAAF,EAAWA,KAAK,CAACG,MAAN,CAAeD,SAAhD,EAA3B,CACA,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACJ,KAAD,CAAQK,SAAR,QAAsB,CAAC,CAACL,KAAF,EAAWA,KAAK,CAACG,MAAN,EAAgBE,SAAjD,EAA3B,CAEA,GAAMC,CAAAA,cAAc,qDACfZ,UADe,CACF,CAAE,CAACa,WAAW,CAAER,iBAAd,CAAiCS,QAAQ,CAAE,kBAA3C,CAAF,CAAkE,CAACD,WAAW,CAAG,qBAAAP,KAAK,QAAII,CAAAA,kBAAkB,CAACJ,KAAD,CAAO,CAAP,CAAtB,EAApB,CAAqDQ,QAAQ,CAAE,0CAA/D,CAAlE,CADE,kCAEfZ,aAFe,CAEC,CAAE,CAACW,WAAW,CAAER,iBAAd,CAAiCS,QAAQ,CAAE,qBAA3C,CAAF,CAAqE,CAACD,WAAW,CAAG,qBAAAP,KAAK,QAAII,CAAAA,kBAAkB,CAACJ,KAAD,CAAO,CAAP,CAAtB,EAApB,CAAqDQ,QAAQ,CAAE,6CAA/D,CAArE,CAFD,kCAGff,WAHe,CAGD,CAAE,CAACc,WAAW,CAAER,iBAAd,CAAiCS,QAAQ,CAAE,mBAA3C,CAAF,CAHC,kCAIfb,WAJe,CAID,CAAE,CAACY,WAAW,CAAER,iBAAd,CAAiCS,QAAQ,CAAE,0BAA3C,CAAF,CAJC,kBAApB,CAQA,GAAMC,CAAAA,YAAY,CACd,CACIC,UAAU,6CACLhB,UADK,CACQ,EADR,8BAELE,aAFK,CAEW,EAFX,8BAGLH,WAHK,CAGS,EAHT,8BAILE,WAJK,CAIS,EAJT,cADd,CAOIgB,cAAc,qDACTjB,UADS,CACI,CAAEkB,OAAO,CAAE,KAAX,CAAkBJ,QAAQ,CAAE,EAA5B,CADJ,kCAETZ,aAFS,CAEO,CAAEgB,OAAO,CAAE,KAAX,CAAkBJ,QAAQ,CAAE,EAA5B,CAFP,kCAGTf,WAHS,CAGK,CAAEmB,OAAO,CAAE,KAAX,CAAkBJ,QAAQ,CAAE,EAA5B,CAHL,kCAITb,WAJS,CAIK,CAAEiB,OAAO,CAAE,KAAX,CAAkBJ,QAAQ,CAAE,EAA5B,CAJL,kBAPlB,CADJ,CAoBA,cAAe,SAASK,CAAAA,uBAAT,EAA+D,8BAA9BC,CAAAA,KAA8B,2DAAtBL,YAAsB,IAARM,CAAAA,MAAQ,2CAC1E,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKlB,CAAAA,cAAL,CACI,GAAMmB,CAAAA,oBAAoB,iEACrBvB,UADqB,CACR,CAAEkB,OAAO,CAAE,IAAX,CAAiBJ,QAAQ,CAAE,EAA3B,CADQ,wCAErBZ,aAFqB,CAEL,CAAEgB,OAAO,CAAE,IAAX,CAAiBJ,QAAQ,CAAE,EAA3B,CAFK,wCAGrBf,WAHqB,CAGP,CAAEmB,OAAO,CAAE,IAAX,CAAiBJ,QAAQ,CAAE,EAA3B,CAHO,wCAIrBb,WAJqB,CAIP,CAAEiB,OAAO,CAAE,IAAX,CAAiBJ,QAAQ,CAAE,EAA3B,CAJO,wBAA1B,CAMA,IAAK,GAAIU,CAAAA,YAAT,GAAyBJ,CAAAA,KAAK,CAACH,cAA/B,CAA+C,CAC3C,GAAMQ,CAAAA,eAAe,CAAGb,cAAc,CAACY,YAAD,CAAtC,CACA,GAAME,CAAAA,kBAAkB,CAAGN,KAAK,CAACJ,UAAN,CAAiBQ,YAAjB,CAA3B,CAF2C,gGAI3C,kBAAqBC,eAArB,oHACA,IADQE,CAAAA,SACR,aACI,GAAMT,CAAAA,OAAO,CAAGS,SAAS,CAACd,WAAV,CAAsBa,kBAAtB,CAAhB,CACA,GAAG,CAACR,OAAJ,CAAa,CACTK,oBAAoB,CAACC,YAAD,CAApB,CAAqC,CAAEN,OAAO,CAAPA,OAAF,CAAUJ,QAAQ,CAAEa,SAAS,CAACb,QAA9B,CAArC,CACA,MACH,CACJ,CAX0C,qMAY9C,CAED,wBACOM,KADP,EAEIH,cAAc,CAAEM,oBAFpB,GAIJ,IAAKpB,CAAAA,aAAL,CACI,wBACOiB,KADP,EAEIJ,UAAU,kBAAOI,KAAK,CAACJ,UAAb,oBAA0BK,MAAM,CAACO,KAAjC,CAAyCP,MAAM,CAACf,KAAhD,EAFd,GAIJ,QACI,MAAOc,CAAAA,KAAP,CAhCR,CAkCH","sourcesContent":["import {EMAIL_FIELD, NAME_FIELD, PHONE_FIELD, SURNAME_FIELD, VALUE_CHANGED, FORM_CONFIRMED} from './actions';\n\nconst requiredValidator = (value) => !!value;\nconst maxLengthValidator = (value, maxLength) => !!value && value.length < maxLength;\nconst minLengthValidator = (value, minLength) => !!value && value.length >= minLength;\n\nconst formValidators = {\n    [NAME_FIELD]: [ {validatorFn: requiredValidator, errorMsg: 'Name is required'}, {validatorFn:  value => minLengthValidator(value,2), errorMsg: 'Name should be minimum 2 characters long'}],\n    [SURNAME_FIELD]: [ {validatorFn: requiredValidator, errorMsg: 'Surname is required'}, {validatorFn:  value => minLengthValidator(value,2), errorMsg: 'Surname should be minimum 2 characters long'}],\n    [EMAIL_FIELD]: [ {validatorFn: requiredValidator, errorMsg: 'Email is required'}],\n    [PHONE_FIELD]: [ {validatorFn: requiredValidator, errorMsg: 'Phone number is required'}]\n}\n\n\nconst initialState =\n    {\n        formValues: {\n            [NAME_FIELD]: '',\n            [SURNAME_FIELD]: '',\n            [EMAIL_FIELD]: '',\n            [PHONE_FIELD]: ''\n        },\n        formValidation: {\n            [NAME_FIELD]: { isValid: false, errorMsg: '' },\n            [SURNAME_FIELD]: { isValid: false, errorMsg: '' },\n            [EMAIL_FIELD]: { isValid: false, errorMsg: '' },\n            [PHONE_FIELD]: { isValid: false, errorMsg: '' }\n        }\n    }\n\n\n\n\n\nexport default function confirmationStepReducer(state = initialState, action) {\n    switch (action.type) {\n        case FORM_CONFIRMED:\n            const formValidatonResults = {\n                [NAME_FIELD]: { isValid: true, errorMsg: '' },\n                [SURNAME_FIELD]: { isValid: true, errorMsg: '' },\n                [EMAIL_FIELD]: { isValid: true, errorMsg: '' },\n                [PHONE_FIELD]: { isValid: true, errorMsg: '' }\n            };\n            for (let formFieldKey in state.formValidation) {\n                const fieldValidators = formValidators[formFieldKey];\n                const fieldProposedValue = state.formValues[formFieldKey];\n\n                for(let validator of fieldValidators)\n                {\n                    const isValid = validator.validatorFn(fieldProposedValue);\n                    if(!isValid) {\n                        formValidatonResults[formFieldKey] = { isValid,errorMsg: validator.errorMsg };\n                        break;\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                formValidation: formValidatonResults\n            }\n        case VALUE_CHANGED:\n            return {\n                ...state,\n                formValues: { ...state.formValues, [action.field]: action.value }\n            }\n        default:\n            return state\n    }\n}\n"]},"metadata":{},"sourceType":"module"}