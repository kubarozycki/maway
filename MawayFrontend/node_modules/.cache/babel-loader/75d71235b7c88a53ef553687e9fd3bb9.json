{"ast":null,"code":"import _classCallCheck from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import SummaryDetailsRow from'./summaryDetailsRow';import LoaderBar from\"../../../controls/loader-bar\";import{fetchSummary}from\"../actions\";import moneyPipe from\"../../../pipes/moneyPipe\";var SummaryDetailsComponent=/*#__PURE__*/function(_React$Component){_inherits(SummaryDetailsComponent,_React$Component);function SummaryDetailsComponent(props){_classCallCheck(this,SummaryDetailsComponent);return _possibleConstructorReturn(this,_getPrototypeOf(SummaryDetailsComponent).call(this,props));}_createClass(SummaryDetailsComponent,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.onSummaryReload(this.props.itemTypeId,this.props.selectedExtras,this.props.from,this.props.to);}},{key:\"render\",value:function render(){if(!this.props.data||this.props.isFetching)return React.createElement(LoaderBar,{show:this.props.isFetching});else return React.createElement(\"div\",{className:\"summary-groups\"},React.createElement(\"div\",{className:\"item-card summary-group\"},React.createElement(SummaryDetailsRow,{name:\"Vehicele\",value:this.props.data.itemTypeName}),React.createElement(SummaryDetailsRow,{name:\"From\",value:this.props.from.format(\"MM-DD-YYYY\")}),React.createElement(SummaryDetailsRow,{name:\"To\",value:this.props.to.format(\"MM-DD-YYYY\")})),this.props.data.extras&&this.props.data.extras.length>0&&React.createElement(\"div\",{className:\"item-card summary-group\"},this.props.data.extras&&this.props.data.extras.map(function(x){return React.createElement(SummaryDetailsRow,{name:x.name,value:moneyPipe(x.price)});})),React.createElement(\"div\",{className:\"item-card summary-group\"},React.createElement(SummaryDetailsRow,{name:\"Total amount\",value:moneyPipe(this.props.data.overallPrice)})));}}]);return SummaryDetailsComponent;}(React.Component);var mapStateToProps=function mapStateToProps(_ref){var dateStepReducer=_ref.dateStepReducer,itemStepReducer=_ref.itemStepReducer,extrasStepReducer=_ref.extrasStepReducer,summaryReducer=_ref.summaryReducer;return{isFetching:summaryReducer.isFetching,from:dateStepReducer.dateFrom,to:dateStepReducer.dateTo,itemTypeId:itemStepReducer.selectedItemId,selectedExtras:extrasStepReducer.extras.filter(function(x){return x.selected;}).map(function(x){return x.id;}),data:summaryReducer.data};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{onSummaryReload:function onSummaryReload(itemTypeId,extrasIds,from,to){return dispatch(fetchSummary(itemTypeId,extrasIds,from,to));}};};export default connect(mapStateToProps,mapDispatchToProps)(SummaryDetailsComponent);","map":{"version":3,"sources":["/Users/rozyckj/repos/mawayRental/MawayFrontend/src/modules/summary/components/summaryDetails.js"],"names":["React","connect","SummaryDetailsRow","LoaderBar","fetchSummary","moneyPipe","SummaryDetailsComponent","props","onSummaryReload","itemTypeId","selectedExtras","from","to","data","isFetching","itemTypeName","format","extras","length","map","x","name","price","overallPrice","Component","mapStateToProps","dateStepReducer","itemStepReducer","extrasStepReducer","summaryReducer","dateFrom","dateTo","selectedItemId","filter","selected","id","mapDispatchToProps","dispatch","ownProps","extrasIds"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport SummaryDetailsRow from './summaryDetailsRow';\nimport LoaderBar from \"../../../controls/loader-bar\";\nimport { fetchSummary } from \"../actions\";\nimport moneyPipe from \"../../../pipes/moneyPipe\";\n\n\nclass SummaryDetailsComponent extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.props.onSummaryReload(\n            this.props.itemTypeId,\n            this.props.selectedExtras,\n            this.props.from,\n            this.props.to);\n    }\n\n    render() {\n        if (!this.props.data || this.props.isFetching)\n            return <LoaderBar show={this.props.isFetching} />\n        else\n            return (<div className='summary-groups'>\n                <div className='item-card summary-group'>\n                    <SummaryDetailsRow name='Vehicele' value={this.props.data.itemTypeName} />\n                    <SummaryDetailsRow name='From' value={this.props.from.format(\"MM-DD-YYYY\")} />\n                    <SummaryDetailsRow name='To' value={this.props.to.format(\"MM-DD-YYYY\")} />\n                </div>\n                {this.props.data.extras && this.props.data.extras.length > 0 && <div className='item-card summary-group'>\n                    {this.props.data.extras && this.props.data.extras.map(x => <SummaryDetailsRow name={x.name} value={moneyPipe(x.price)} />)}\n                </div>}\n                <div className='item-card summary-group'>\n                    <SummaryDetailsRow name='Total amount' value={moneyPipe(this.props.data.overallPrice)} />\n                </div>\n\n            </div>)\n\n    }\n}\n\nconst mapStateToProps = ({ dateStepReducer, itemStepReducer, extrasStepReducer, summaryReducer }) => {\n    return {\n        isFetching: summaryReducer.isFetching,\n        from: dateStepReducer.dateFrom,\n        to: dateStepReducer.dateTo,\n        itemTypeId: itemStepReducer.selectedItemId,\n        selectedExtras: extrasStepReducer.extras.filter(x => x.selected).map(x => x.id),\n        data: summaryReducer.data\n    };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n    return {\n        onSummaryReload: (itemTypeId, extrasIds, from, to) => dispatch(fetchSummary(itemTypeId, extrasIds, from, to))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SummaryDetailsComponent);\n"]},"metadata":{},"sourceType":"module"}