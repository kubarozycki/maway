{"ast":null,"code":"import _objectSpread from \"/Users/rozyckj/repos/mawayRental/MawayFrontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { RESERVATION_STEPS, NEXT_STEP, PREVIOUS_STEP, SET_STEP_VALID, SET_STEP_INVALID, CHANGE_STEP } from './actions';\nconst initialState = {\n  currentStep: RESERVATION_STEPS[0],\n  reservationSteps: RESERVATION_STEPS,\n  focusedInput: null,\n  currentStepValid: () => this.reservationSteps.find(x => x.value === this.currentStep.index).valid\n};\n\nfunction canGoToStep(targetStep, state) {\n  for (var i = 0; i < targetStep.value; i++) {\n    if (!state.reservationSteps[i].valid) return false;\n  }\n\n  return true;\n}\n\nexport default function reservationApp(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_STEP:\n      {\n        const targetStep = RESERVATION_STEPS.find(x => x.value === action.index);\n        return _objectSpread({}, state, {}, {\n          currentStep: canGoToStep(targetStep, state) ? targetStep : state.currentStep\n        });\n      }\n\n    case NEXT_STEP:\n      {\n        const targetStep = RESERVATION_STEPS.find(x => x.value === state.currentStep.value + 1);\n        return _objectSpread({}, state, {}, {\n          currentStep: canGoToStep(targetStep, state) ? targetStep : state.currentStep\n        });\n      }\n\n    case SET_STEP_VALID:\n      {\n        const currenReservationSteps = state.reservationSteps;\n        currenReservationSteps[state.currentStep.value].valid = true;\n        return _objectSpread({}, state, {}, {\n          reservationSteps: currenReservationSteps\n        });\n      }\n\n    case SET_STEP_INVALID:\n      {\n        const currenReservationSteps = state.reservationSteps;\n        currenReservationSteps[state.currentStep.value].valid = false;\n        return _objectSpread({}, state, {}, {\n          reservationSteps: currenReservationSteps\n        });\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/rozyckj/repos/mawayRental/MawayFrontend/src/reservation/reducers.js"],"names":["RESERVATION_STEPS","NEXT_STEP","PREVIOUS_STEP","SET_STEP_VALID","SET_STEP_INVALID","CHANGE_STEP","initialState","currentStep","reservationSteps","focusedInput","currentStepValid","find","x","value","index","valid","canGoToStep","targetStep","state","i","reservationApp","action","type","currenReservationSteps"],"mappings":";AAAA,SAASA,iBAAT,EAA4BC,SAA5B,EAAuCC,aAAvC,EAAsDC,cAAtD,EAAsEC,gBAAtE,EAAwFC,WAAxF,QAA2G,WAA3G;AAEA,MAAMC,YAAY,GAClB;AACIC,EAAAA,WAAW,EAAEP,iBAAiB,CAAC,CAAD,CADlC;AAEIQ,EAAAA,gBAAgB,EAAER,iBAFtB;AAGIS,EAAAA,YAAY,EAAE,IAHlB;AAIIC,EAAAA,gBAAgB,EAAE,MAAM,KAAKF,gBAAL,CAAsBG,IAAtB,CAA2BC,CAAC,IAAIA,CAAC,CAACC,KAAF,KAAY,KAAKN,WAAL,CAAiBO,KAA7D,EAAoEC;AAJhG,CADA;;AAQA,SAASC,WAAT,CAAqBC,UAArB,EAAiCC,KAAjC,EAAwC;AACpC,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACJ,KAA/B,EAAsCM,CAAC,EAAvC,EAA2C;AACvC,QAAI,CAACD,KAAK,CAACV,gBAAN,CAAuBW,CAAvB,EAA0BJ,KAA/B,EACI,OAAO,KAAP;AACP;;AACD,SAAO,IAAP;AACH;;AAED,eAAe,SAASK,cAAT,CAAwBF,KAAK,GAAGZ,YAAhC,EAA8Ce,MAA9C,EAAsD;AACjE,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKjB,WAAL;AACI;AACI,cAAMY,UAAU,GAAGjB,iBAAiB,CAACW,IAAlB,CAAuBC,CAAC,IAAIA,CAAC,CAACC,KAAF,KAAYQ,MAAM,CAACP,KAA/C,CAAnB;AACA,iCACOI,KADP,MACiB;AACTX,UAAAA,WAAW,EAAES,WAAW,CAACC,UAAD,EAAaC,KAAb,CAAX,GAAiCD,UAAjC,GAA8CC,KAAK,CAACX;AADxD,SADjB;AAKH;;AACL,SAAKN,SAAL;AACI;AACI,cAAMgB,UAAU,GAAGjB,iBAAiB,CAACW,IAAlB,CAAuBC,CAAC,IAAIA,CAAC,CAACC,KAAF,KAAYK,KAAK,CAACX,WAAN,CAAkBM,KAAlB,GAA0B,CAAlE,CAAnB;AACA,iCACOK,KADP,MACiB;AACTX,UAAAA,WAAW,EAAES,WAAW,CAACC,UAAD,EAAaC,KAAb,CAAX,GAAiCD,UAAjC,GAA8CC,KAAK,CAACX;AADxD,SADjB;AAKH;;AACL,SAAKJ,cAAL;AAAqB;AACjB,cAAMoB,sBAAsB,GAAGL,KAAK,CAACV,gBAArC;AACAe,QAAAA,sBAAsB,CAACL,KAAK,CAACX,WAAN,CAAkBM,KAAnB,CAAtB,CAAgDE,KAAhD,GAAwD,IAAxD;AACA,iCACOG,KADP,MACiB;AACTV,UAAAA,gBAAgB,EAAEe;AADT,SADjB;AAKH;;AACD,SAAKnB,gBAAL;AAAuB;AACnB,cAAMmB,sBAAsB,GAAGL,KAAK,CAACV,gBAArC;AACAe,QAAAA,sBAAsB,CAACL,KAAK,CAACX,WAAN,CAAkBM,KAAnB,CAAtB,CAAgDE,KAAhD,GAAwD,KAAxD;AACA,iCACOG,KADP,MACiB;AACTV,UAAAA,gBAAgB,EAAEe;AADT,SADjB;AAKH;;AACD;AACI,aAAOL,KAAP;AAtCR;AAwCH","sourcesContent":["import { RESERVATION_STEPS, NEXT_STEP, PREVIOUS_STEP, SET_STEP_VALID, SET_STEP_INVALID, CHANGE_STEP } from './actions';\n\nconst initialState =\n{\n    currentStep: RESERVATION_STEPS[0],\n    reservationSteps: RESERVATION_STEPS,\n    focusedInput: null,\n    currentStepValid: () => this.reservationSteps.find(x => x.value === this.currentStep.index).valid\n}\n\nfunction canGoToStep(targetStep, state) {\n    for (var i = 0; i < targetStep.value; i++) {\n        if (!state.reservationSteps[i].valid)\n            return false;\n    }\n    return true;\n}\n\nexport default function reservationApp(state = initialState, action) {\n    switch (action.type) {\n        case CHANGE_STEP:\n            {\n                const targetStep = RESERVATION_STEPS.find(x => x.value === action.index);\n                return {\n                    ...state, ...{\n                        currentStep: canGoToStep(targetStep, state) ? targetStep : state.currentStep\n                    }\n                }\n            }\n        case NEXT_STEP:\n            {\n                const targetStep = RESERVATION_STEPS.find(x => x.value === state.currentStep.value + 1);\n                return {\n                    ...state, ...{\n                        currentStep: canGoToStep(targetStep, state) ? targetStep : state.currentStep\n                    }\n                }\n            }\n        case SET_STEP_VALID: {\n            const currenReservationSteps = state.reservationSteps;\n            currenReservationSteps[state.currentStep.value].valid = true;\n            return {\n                ...state, ...{\n                    reservationSteps: currenReservationSteps\n                }\n            }\n        }\n        case SET_STEP_INVALID: {\n            const currenReservationSteps = state.reservationSteps;\n            currenReservationSteps[state.currentStep.value].valid = false;\n            return {\n                ...state, ...{\n                    reservationSteps: currenReservationSteps\n                }\n            }\n        }\n        default:\n            return state\n    }\n}"]},"metadata":{},"sourceType":"module"}